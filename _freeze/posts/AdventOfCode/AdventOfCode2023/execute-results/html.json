{
  "hash": "ae5d13c92a0c42af048c78ce29788166",
  "result": {
    "markdown": "---\ntitle: 'Advent of Code 2023'\ndate: '2023-12-28'\n#author: \"Serban Dragne\"\ncategories: ['R','Coding']\ndescription: 'Advent of Code Day'\nexecute:\n  message: false\n  warning: false\neditor_options:\n  chunk_output_type: console\n---\n\n\nAs I'm hip and trendy, I discovered Advent of Code \\[<https://adventofcode.com/2023>\\] just a few days before the end of the year. In the spirit of not giving every waking moment of my xmas holidays to Where Eagles Dare, mince pies and mulled wine, I decided I should at least use my noodle a bit and do these puzzles.\n\n## Day 1\n\n### Part 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(data.table)\n\nfiles <- read.csv(\"day1.csv\", header = FALSE)\ncolnames(files) <- \"input\"\n\n# create regex pattern to find the first number in a string \nfirst_pattern <- \"\\\\d\"\n\n# regex to extract the last number in a string\nlast_pattern <- \"\\\\d(?=[^\\\\d]*$)\"\n\n\n# create a new column with the first and last numbers in a string\n\nfiles$first <- (stringr::str_extract(files$input,first_pattern))\nfiles$last <- (stringr::str_extract(files$input,last_pattern))\nfiles$NewNr <- as.numeric(paste0(files$first,files$last))\n\n# sum the  column\nsum(files$NewNr)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 54331\n```\n:::\n:::\n\n\n### Part 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Part 2 \n\n# list of numbers as words\nnumers_as_words  <- c(\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\"eight\",\"nine\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\")\nmapping <- c(1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9)\n\n# get back a list showing the start and end points of a string that match any of the above\n# numbers as words\n\n\n#find the starting positions of where to find the numbers as words in the string\n# return the max and min of the start column\n\n#function to return the max value of the start column\nmax_start <- function(x){\n  \n   \n  # find the starting location by matching either the digits or numbers in the long string \n  starting_positions = stringr::str_locate(x, numers_as_words)[,1] \n\n  # the lowest number corresponds to the first number in the string\n  first = mapping[which(min(starting_positions,na.rm = TRUE) == starting_positions)]\n  \n  # find the last starting position for each\n  end_positions <- stringr::str_locate_all(x, numers_as_words) %>% \n    sapply(.,max) %>% \n    # replace -Inf with NA b/c it returns stupid -Inf when it cant find a match \n    replace(., is.infinite(.), NA) \n  \n\n  last = mapping[which(max(end_positions,na.rm = TRUE) == end_positions)]\n  \n  return(as.numeric(paste0(first,last)))\n\n        \n}\n\n\nfiles$newNr2 <- sapply(files$input, max_start)\n\n\n# this should work\nsum(files$newNr2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 54518\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}